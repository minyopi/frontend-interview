<목차>

- [12장 - 함수](#12장---함수)

# 12장 - 함수

## 함수

### 함수를 사용하는 이유

- 함수는 몇 번이든 호출할 수 있으므로 **코드의 재사용**이라는 측면에서 유용하다.
- 함수는 **유지보수의 편의성**을 높이고 실수를 줄여 **코드의 신뢰성**을 높이는 효과가 있다.
- 함수는 객체 타입의 값이다. 따라서 이름을 붙일 수 있다. 적절한 함수 이름은 함수의 내부 코드를 이해하지 않고도 함수의 역할을 파악하도록 돕기 때문에 **코드의 가독성**을 향상시킨다.

### 함수리터럴, 함수선언문, 함수표현식

#### 함수리터럴

```js
var f = function add(x, y) {
  return x + y;
};
```

#### 함수선언문 (Function Declaration)

- 일반적인 프로그래밍 언어에서의 함수 선언과 비슷한 형식

```js
function 함수명() {
  구현 로직
}
```

##### 함수 리터럴 vs 함수 선언문

자바스크립트 엔진이 코드의 문맥에 따라 동일한 함수 리터럴을 표현식이 아닌 문인 함수 선언문으로 해석하는 경우와 표현식인 문인 함수 리터럴 표현식으로 해석하는 경우가 있기 때문이다.
함수 선언문은 함수 이름을 생략할 수 없다는 점을 제외하면 함수 리터럴과 형태가 동일하다. 이는 함수 이름이 있는 기명 함수 리터럴은 함수 선언문 또는 함수 리터럴 표현식으로 해석될 가능성이 있다는 의미다.

```js
// 함수 선언문은 표현식이 아닌 문이므로 변수에 할당할 수 없다.
// 하지만 함수 선언문이 변수에 할당되는 것처럼 보인다.
var add = function add(x, y) {
  return x + y;
};

// 함수 호출
console.log(add(2, 5));

// 기명 함수 리터럴을 단독으로 사용하면 함수 선언문으로 해석된다.
// 함수 선언문에서는 함수 이름을 생략할 수 없다.
function foo() {
  console.log("foo");
}
foo(); // foo

//함수 리터럴을 피연산자로 사용하면 함수 선언문이 아니라 함수 리터럴 표현식으로 해석된다.
// 함수 리터럴에서는 함수 이름을 생략할 수 있다.
(function bar() {
  console.log("bar");
});
bar(); // RefetenceError: bar is not defined
```

> < 나의 한 줄 정리 >
> 값으로 사용될 때 = **함수 리터럴**
> 선언으로 사용될 때 = **함수 선언문**

#### 함수표현식 (Function Expression)

```js
var test1 = function () {
  // (익명) 함수표현식
  return "익명 함수표현식";
};

var test2 = function test2() {
  // 기명 함수표현식
  return "기명 함수표현식";
};
```

- 변수값에 함수 표현을 담아 놓은 형태
  - 유연한 자바스크립트 언어의 특징을 활용한 선언 방식
- 함수표현식은 익명 함수표현식과 기명 함수표현식으로 나눌 수 있다.
  - 일반적으로 함수표현식이라고 부르면 앞에 익명이 생략된 형태라고 볼 수 있다.
  - 익명 함수표현식: 함수에 식별자가 주어지지 않는다.
  - 기명 함수표현식: 함수의 식별자가 존재한다.
- 함수표현식의 장점
  - 클로져로 사용
  - 콜백으로 사용(다른 함수의 인자로 넘길 수 있음)

## 함수선언문과 함수표현식에서의 호이스팅

### 함수선언문에서의 호이스팅

- 함수선언문은 코드를 구현한 위치와 관계없이 자바스크립트의 특징인 호이스팅에 따라 브라우저가 자바스크립트를 해석할 때 맨 위로 끌어 올려진다.

### 함수표현식에서의 호이스팅

- 함수표현식은 함수선언문과 달리 선언과 호출 순서에 따라서 정상적으로 함수가 실행되지 않을 수 있다.
- 함수표현식에서는 선언과 할당의 분리가 발생한다.
- 함수 표현식은 변수에 할당되는 값이 함수 리터럴인 문이다. 따라서 함수 표현식은 변수 선언문과 변수 할당문을 한 번에 기술한 축약 표현과 동일하게 동작한다.
  즉, **함수 표현식에서의 호이스팅은, 함수 호이스팅이 아니라 변수 호이스팅이 발생**한다.

## 변수 호이스팅과 함수 호이스팅의 차이

### 공통점

- 런타임 이전에 자바스크립트 엔진에 의해 먼저 실행되어 식별자를 생성한다는 점에서 동일하다.

### 차이점

- var 키워드로 선언된 변수는 `undefined`로 초기화되고, 함수 선언문을 통해 암묵적으로 생성된 식별자는 함수 객체로 초기화된다.
- 따라서, var 키워드로 사용한 변수 선언문 이전에 변수를 참조하면 변수 호이스팅을 통해 `undefined`로 평가되지만 함수 선언문으로 정의한 함수를 함수 선언문 이전에 호출하면 함수 호이스팅에 의해 호출이 가능하다.

---
